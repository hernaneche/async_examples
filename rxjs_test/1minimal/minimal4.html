<script src="https://unpkg.com/rxjs@7.5.5/dist/bundles/rxjs.umd.min.js"></script>
<script>
  console.log("start");
  const obs$ = new rxjs.Observable((sub) => {
    // next(val), error(e), complete()
    let counter = 0;
    setInterval(() => {
      counter++;
      sub.next(counter);
      if (counter >= 5) {
        sub.complete();
      }
    }, 1000);
  });

  obs$.subscribe({
    next: (val) => console.log("next:", val),
    error: (err) => console.log("error:", err),
    complete: () => console.log("completed"),
  });

  console.log("end");
</script>
